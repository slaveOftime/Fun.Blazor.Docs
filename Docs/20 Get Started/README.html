<h1 id="get-started">Get started</h1>
<h2 id="please-check-the-samples-for-quick-start">Please check the samples for quick start</h2>
<p>This contains the code for the document site itself:
<a href="https://github.com/slaveOftime/Fun.Blazor/tree/master/Fun.Blazor.Docs.Wasm">https://github.com/slaveOftime/Fun.Blazor/tree/master/Fun.Blazor.Docs.Wasm</a></p>
<p>I use this to build my simple personal blogs:
<a href="https://github.com/slaveOftime/Slaveoftime.Site">https://github.com/slaveOftime/Slaveoftime.Site</a></p>
<p>This contains the code for Fun.Blazor templates, also with more samples in it:
<a href="https://github.com/slaveOftime/Fun.Blazor.Samples">https://github.com/slaveOftime/Fun.Blazor.Samples</a></p>
<h2 id="use-dotnet-templates">Use dotnet templates:</h2>
<p><a href="https://www.nuget.org/packages/Fun.Blazor.Templates"><img src="https://img.shields.io/nuget/vpre/Fun.Blazor.Templates" alt="Nuget" /></a></p>
<pre><code class="language-shell">dotnet new --install Fun.Blazor.Templates::2.0.0
</code></pre>
<p>With this template, you can create server / wasm blazor with <a href="https://mudblazor.com/">MudBlazor</a> or <a href="https://shoelace.style/">shoelacejs</a> supported.</p>
<pre><code class="language-shell">dotnet new fb-mix -o CoolMixMode
</code></pre>
<h2 id="code-structure-example-just-my-opinionated-way">Code structure example (Just my opinionated way)</h2>
<p>This project support multiple pattern for state management. From my experience it is not good to use elmish for your whole project. Because the performance and state share concern, also sometimes it feels a little verbose.</p>
<p>You can try this:</p>
<p><strong>Db</strong><br />
<strong>Domain</strong><br />
<strong>Services</strong><br />
<strong>UI</strong><br />
|--- Stores.fs // contains shared store or global store</p>
<pre><code class="language-fsharp">    type IShareStore with // scoped for the session in blazor server mode
        member store.IsDark = store.CreateCVal(&quot;IsDark&quot;, true)

    type IGlobalStore with // Singleton store, shared for all. Used in server side blazor to share some data for all connected users.
        ...
</code></pre>
<p>|--- Hooks.fs // standalone UI logic</p>
<pre><code class="language-fsharp">    type IComponentHook with
        member hook.TryLoadPosts(page) =
            task {
                ...
            }

        member hook.UseSettingsForm() =
            hook
                .UseAdaptiveForm({| Name = &quot;foo&quot;; ... |})
                .AddValidators(...)
                .AddValidators(...)
</code></pre>
<p>|--- Controls.fs // Some small shared controls<br />
|--- Comp1.fs // Your business component</p>
<pre><code class="language-fsharp">    // Make your fragment smaller, so you can compose it in cleaner way and get better inline optimization, hot-reload speeding and intellisense performance
    let private fragment1 = div {...}

    let private fragment2 (shareStore: IShareStore) =
        adaptiview {
            let! isDark, setIsDark = shareStore.IsDark.WithSetter()   
            div { ... } 
        }

    // or use elmish if you like
    let private fragment3 = html.elmish (init, update, view)

    let comp1 =
        html.inject (fun (svc1, shareStore: IShareStore, ...) -&gt;
            div {
                childContent [
                    fragment1
                    fragment2 shareStore
                    fragment3
                ]
            }
        )
</code></pre>
<p>|--- Comp2.Hooks.fs // in case you have large component, or you can even create separate folder for the whole component<br />
|--- Comp2.Control1.fs // manage large control which is only for your business Comp2<br />
|--- Comp2.fs // The entry for your comp2<br />
|--- App.fs // compose your components or pages</p>
<pre><code class="language-fsharp">let private routes =
    html.route [
        routeCi &quot;/page1&quot; comp1
        routeAny comp2
    ]

let app =
    div {
        header
        routes
        footer
    }
</code></pre>
<p>|--- Index.fs // if you are using blazor server mode, you need to have this. You can check the template.<br />
|--- Startup.fs</p>
<blockquote>
<p>You can check repo <a href="https://github.com/slaveOftime/Slaveoftime.Site">https://github.com/slaveOftime/Slaveoftime.Site</a> as a reference for those practical tips.</p>
</blockquote>
