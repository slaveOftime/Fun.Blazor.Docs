<pre><code class="language-fsharp">[&lt;AutoOpen&gt;]
module Fun.Blazor.Docs.Wasm.Pages.Elmish.ElmishDemo

open System.Threading.Tasks
open MudBlazor
open Fun.Blazor
open Elmish


type Model = { Count: int }

type Msg =
    | Increase
    | Decrease
    | IncreaseTask


let delayDecrease =
    Cmd.OfAsync.result (
        async {
            do! Async.Sleep 3000
            return Decrease
        }
    )


let init () = { Count = 0 }, delayDecrease

let update msg model =
    match msg with
    | Increase -&gt; { model with Count = model.Count + 1 }, Cmd.none
    | Decrease -&gt; { model with Count = model.Count - 1 }, delayDecrease
    | IncreaseTask -&gt;
        model,
        Cmd.OfTask.result (
            task {
                do! Task.Delay 1000
                return Increase
            }
        )

let view model dispatch =
    div.create [
        MudText'() {
            Typo Typo.h6
            Color Color.Primary
            model.Count
        }
        MudButtonGroup'() {
            Variant Variant.Outlined
            MudButton'() {
                Color Color.Primary
                OnClick(fun _ -&gt; Increase |&gt; dispatch)
                "Increase"
            }
            MudButton'() {
                Color Color.Primary
                OnClick(fun _ -&gt; IncreaseTask |&gt; dispatch)
                "Increase task (delayed in 1s)"
            }
            MudButton'() {
                Color Color.Secondary
                Variant Variant.Outlined
                OnClick(fun _ -&gt; Decrease |&gt; dispatch)
                "Decrease (loop in 3s)"
            }
        }
    ]


let elmishDemo = html.elmish (init, update, view)

</code></pre>
