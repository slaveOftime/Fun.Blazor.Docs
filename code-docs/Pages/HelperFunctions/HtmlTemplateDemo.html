<pre><code class="language-fsharp">namespace Fun.Blazor.Docs.Wasm.Pages.HelperFunctions

open System
open FSharp.Data.Adaptive
open Microsoft.AspNetCore.Components
open MudBlazor
open Fun.Blazor


type SlChangeEventArgs() =
    inherit EventArgs()

    member val Value = null with get, set


[&lt;EventHandler("onsl-change", typeof&lt;SlChangeEventArgs&gt;, enableStopPropagation = true, enablePreventDefault = true)&gt;]
[&lt;AbstractClass; Sealed&gt;]
type EventHandlers =
    class
    end


module Shoelace =
    let registerEvents =
        js """
            Blazor.registerCustomEventType('sl-change', {
                browserEventName: 'sl-change',
                createEventArgs: event =&gt; {
                    return {
                        value: event.target.value
                    };
                }
            });
        """


[&lt;AutoOpen&gt;]
module HtmlTemplateDemo =
    let htmlTemplateDemo =
        adaptiview () {
            let! count, setCount = cval(1).WithSetter()

            let increaseBy2 () = setCount (count + 2)

            let increaseBtn =
                MudButton'() {
                    OnClick(fun _ -&gt; setCount (count + 1))
                    Variant Variant.Filled
                    Color Color.Primary
                    childContent "Mud Increase Btn"
                }

            let congratulations = Template.html $"&lt;div&gt;Congratulations! You made it ❤️&lt;/div&gt;"

            Template.html $"""
                &lt;div&gt;
                    {congratulations}
                    &lt;p&gt;
                        You need to bring &lt;span style="font-weight: bold; color: green; padding: 5px;"&gt;Fun.Blazor.HtmlTemplate&lt;/span&gt; package to make this work!!!
                    &lt;/p&gt;
                    &lt;p style="background-color: hotpink; padding: 10px; color: white;"&gt;
                        The whole string will be converted to blazor rendering tree and cached for the first time. So the initial start may be slow than other DSL.
                    &lt;/p&gt;
                    &lt;p&gt;
                        To get intelicense you need to install https://marketplace.visualstudio.com/items?itemName=alfonsogarciacaro.vscode-template-fsharp-highlight
                    &lt;/p&gt;
                    &lt;p&gt;
                        Or install this to get highlight https://marketplace.visualstudio.com/items?itemName=daniel-hardt.html-for-fsharp-lit-template
                    &lt;/p&gt;
                    &lt;br/&gt;
                    Here is the count: {count}
                    &lt;div&gt;
                        &lt;p style="color: red;"&gt;If the callback is unit -&gt; unit then you no need to add callback util&lt;/p&gt;
                        &lt;button onclick="{fun () -&gt; setCount (count + 1)}"&gt;Increase&lt;/button&gt;
                        &lt;button onclick="{ignore &gt;&gt; increaseBy2}"&gt;Increase by 2&lt;/button&gt;
                        {increaseBtn}
                    &lt;/div&gt;
                    {match count with
                     | 1 -&gt; div { "Match 1" }
                     | _ -&gt; div { "Match _" }}
                    &lt;div style="color: {if count = 3 then "red" else "green"};" class="test-class"&gt;Cool!!&lt;/div&gt;
                    &lt;div style="{if count = 4 then "color: red;" else "color: green;"}"&gt;Cool!!&lt;/div&gt;

                    &lt;input type="checkbox" {if count &gt; 4 then "checked" else ""} &gt;
                    &lt;p style="color: red;"&gt;If the callback is not unit -&gt; unit then you need to add callback util, so we can know the type info&lt;/p&gt;
                    &lt;input type="number" value="{count}" onchange="{callback&lt;ChangeEventArgs&gt; (fun e -&gt; e.Value |&gt; string |&gt; int |&gt; setCount)}"&gt;

                    &lt;sl-button onclick="{ignore &gt;&gt; increaseBy2}"&gt;Increase by 2&lt;/sl-button&gt;

                    &lt;p&gt;
                        Add prefix 'on' for none standard event which do not start with onxxx, for example sl-change should be written as onsl-change.
                        But blazor 5 do not support custom event args, so the you can not get useful info in sl-change.
                        With blazor 6, you can follow https://docs.microsoft.com/en-us/aspnet/core/blazor/components/event-handling?view=aspnetcore-6.0#custom-clipboard-paste-event-example as example
                        Below is the example:
                        &lt;ul&gt;
                            &lt;li&gt;Define SlChangeEventArgs and attach to EventHandler&lt;/li&gt;
                            &lt;li&gt;Register with javascript to map the event fields&lt;/li&gt;
                            &lt;li&gt;Use it together with callback util&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/p&gt;
                    &lt;sl-input type="number" onsl-change="{callback&lt;SlChangeEventArgs&gt; (fun e -&gt; e.Value |&gt; string |&gt; int |&gt; setCount)}" value="{count}"&gt;&lt;/sl-input&gt;
                    {Shoelace.registerEvents}

                    &lt;sl-input type="number" oninput="{callback&lt;ChangeEventArgs&gt; (fun e -&gt; e.Value |&gt; string |&gt; int |&gt; setCount)}" value="{count}"&gt;&lt;/sl-input&gt;

                    &lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0-beta.62/dist/themes/light.css"&gt;
                    &lt;script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0-beta.62/dist/shoelace.js"&gt;&lt;/script&gt;

                    &lt;p&gt;style or script tag will be rendered as raw 'html'&lt;/p&gt;
                    &lt;style&gt;
                        .test-class {{
                            background-color: red;
                        }}
                    &lt;/style&gt;
                    &lt;script&gt;
                        function test() {{
                            return false;
                        }}
                    &lt;/script&gt;
                &lt;/div&gt;
                """
        }

</code></pre>
